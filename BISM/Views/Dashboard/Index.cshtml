@{
    ViewData["Title"] = "Dashboard";
    Layout = "~/Views/Shared/custom/_Layouts.cshtml";
}
<section id="content">
    <div class="container">
        <div class="c-header">
            <h1>Main Dashboard</h1>
        </div>
        <div class="row">
            <div class="col-md-6">
                <div class="card">
                    <div class="card-header">
                        <h2>Sales</h2>
                    </div>
                    <div class="card-body card-padding">
                        <p>
                            Lorem ipsum dolor sit amet, consectetur adipiscing elit. Mauris blandit massa in diam tempor, eu viverra orci molestie. Morbi condimentum sapien sed finibus rhoncus. Vivamus venenatis lectus quis risus finibus pharetra. Curabitur imperdiet blandit faucibus. Integer consequat erat ut blandit mattis. Vestibulum imperdiet convallis nisl, finibus vehicula turpis facilisis ut. In ut molestie lacus. Nam ornare urna ac justo condimentum, a ornare justo elementum. Aenean sem turpis, rhoncus quis vulputate sed, dapibus quis ex. Etiam vitae vestibulum nisl, sit amet hendrerit lorem. Vivamus est nunc, convallis vel mattis ac, luctus at est.
                        </p>
                    </div>
                </div>
            </div>
            <div class="col-md-6">
                <div class="card">
                    <div class="card-header">
                        <h2>Stock</h2>
                    </div>
                    <div class="card-body card-padding">
                        <table id="tabel-stock" class="table table-vmiddle" style="table-layout:auto;">
                            <thead>
                                <tr>
                                    <th colspan="3" id="tbl_stock_Bulan"></th>
                                    <th colspan="3">Stock</th>
                                </tr>
                                <tr>
                                    <th style="text-align:center"> WH. Finish Goods </th>
                                    <th>5000 ml</th>
                                    <th>700 ml</th>
                                    <th>250 ml</th>
                                    <th colspan="2" style="text-align:center">Material</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>Omrach</td>
                                    <td>0</td>
                                    <td id="omrach700">0</td>
                                    <td id="omrach250">0</td>
                                    <td>Alkohol</td>
                                    <td id="matAlkohol">0</td>
                                </tr>
                                <tr>
                                    <td>Vodka 9</td>
                                    <td id="9vd5000">0</td>
                                    <td id="9vd700">0</td>
                                    <td id="9vd250">0</td>
                                    <td>Gula</td>
                                    <td id="gula">0</td>
                                </tr>
                                <tr>
                                    <td>Silver</td>
                                    <td id="silver5000">0</td>
                                    <td id="silver700">0</td>
                                    <td id="silver250">0</td>
                                    <td colspan="2" style="text-align:center">Bottle</td>
                                </tr>
                                <tr>
                                    <td>Blanco</td>
                                    <td id="blanco5">0</td>
                                    <td id="blanco700">0</td>
                                    <td id="blanco250">0</td>
                                    <td>700 Whiskey</td>
                                    <td id="botolOmrach7">0</td>
                                </tr>
                                <tr>
                                    <td>Blue Vodka</td>
                                    <td id="bmvd5">0</td>
                                    <td id="bmvd7">0</td>
                                    <td id="bmvd25">0</td>
                                    <td>700 Vodka9</td>
                                    <td id="botol9_7">0</td>
                                </tr>
                                <tr>
                                    <td colspan="4" style="text-align:center">Liqueurs</td>
                                    <td>700 Spirit</td>
                                    <td id="spirit700">0</td>
                                </tr>
                                <tr>
                                    <td>Tripple Sec</td>
                                    <td id="ts5">0</td>
                                    <td id="ts7">0</td>
                                    <td id="ts25">0</td>
                                    <td>750 BlackBull</td>
                                    <td id="botolBB75">0</td>
                                </tr>
                                <tr>
                                    <td>Blue Curacao</td>
                                    <td id="bc5">0</td>
                                    <td id="bc7">0</td>
                                    <td id="bc25">0</td>
                                    <td></td>
                                    <td>0</td>
                                </tr>
                                <tr>
                                    <td>Cofee</td>
                                    <td id="cof5">0</td>
                                    <td id="cof7">0</td>
                                    <td id="cof25">0</td>
                                    <td></td>
                                    <td>0</td>
                                </tr>
                                <tr>
                                    <td>Coconut</td>
                                    <td id="coco5">0</td>
                                    <td id="coco7">0</td>
                                    <td id="coco25">0</td>
                                    <td></td>
                                    <td>0</td>
                                </tr>
                                <tr>
                                    <td>Black Currant</td>
                                    <td id="bk5">0</td>
                                    <td id="bk7">0</td>
                                    <td id="bk25">0</td>
                                    <td></td>
                                    <td>0</td>
                                </tr>
                                <tr>
                                    <td>Banana</td>
                                    <td id="bn5">0</td>
                                    <td id="bn7">0</td>
                                    <td id="bn25">0</td>
                                    <td></td>
                                    <td>0</td>
                                </tr>
                                <tr>
                                    <td>Butter Schotch</td>
                                    <td id="bs5">0</td>
                                    <td id="bs7">0</td>
                                    <td id="bs25">0</td>
                                    <td></td>
                                    <td></td>
                                </tr>
                                <tr>
                                    <td>Hazelnut</td>
                                    <td id="hz5">0</td>
                                    <td id="hz7">0</td>
                                    <td id="hz25">0</td>
                                    <td></td>
                                    <td></td>
                                </tr>
                                <tr>
                                    <td>Lychee</td>
                                    <td id="lc5">0</td>
                                    <td id="lc7">0</td>
                                    <td id="lc25">0</td>
                                    <td></td>
                                    <td></td>
                                </tr>
                                <tr>
                                    <td>Melon</td>
                                    <td id="ml5">0</td>
                                    <td id="ml7">0</td>
                                    <td id="ml25">0</td>
                                    <td></td>
                                    <td></td>
                                </tr>
                                <tr>
                                    <td>Pineapple</td>
                                    <td id="pn5">0</td>
                                    <td id="pn7">0</td>
                                    <td id="pn25">0</td>
                                    <td></td>
                                    <td></td>
                                </tr>
                                <tr>
                                    <td>Paper Mint</td>
                                    <td id="pm5">0</td>
                                    <td id="pm7">0</td>
                                    <td id="pm25">0</td>
                                    <td></td>
                                    <td></td>
                                </tr>
                                <tr>
                                    <td></td>
                                    <td colspan="3">750 ML</td>
                                    <td></td>
                                    <td></td>
                                </tr>
                                <tr>
                                    <td>Black Bull</td>
                                    <td id="BB" colspan="3">0</td>
                                    <td></td>
                                    <td></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
@section Scripts{
<script>
    var dates = new Date();
    const monthNames = ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sept", "Oct", "Nov", "Dec"];
    var month = monthNames[dates.getMonth()];
    var year = dates.getFullYear();
    $("#tbl_stock_Bulan").html(month + " - " + year);

</script>
<script>
    (function update() {
        $.ajax({
            type: "GET",
            url: "/api/StockFGItemLedgerEntry",
            success: function (res) {
                //var res = JSON.parse(data);
                if (res.result == "OK") {
                    let omrach7 = 0;
                    let omrach2 = 0;
                    let blackbull = 0;
                    
                    $.each(res.data, function (i, item) {
                        switch (res.data[i].itemno) {
                            case "700445": case "700264": //700510 700509 80059 700203 dengan cukai
                                omrach7 += res.data[i].total;
                                break;
                            case "700246": case "700446": case "700447": case "700477": //700225 80060 80061 80062 dengan cukai
                                omrach2 += res.data[i].total;
                                break; 
                            case "700260": //80015 dengan cukai
                                $("#9vd700").html(res.data[i].total);
                                break;
                            case "700263": //700204 dengan cukai
                                $("#silver700").html(res.data[i].total);
                                break;
                            case "700262": //700261 80056 dengan cukai
                                $("#blanco700").html(res.data[i].total);
                                break;
                            case "700244": //80057 dengan cukai
                                $("#blanco250").html(res.data[i].total);
                                break;
                            case "700273": //80058 dengan cukai
                                $("#blanco5").html(res.data[i].total);
                                break;
                            case "700349": //80014 dengan cukai
                                $("#bmvd7").html(res.data[i].total);
                                break;
                            case "700272": //80044 dengan cukai
                                $("#bmvd5").html(res.data[i].total);
                                break;
                            case "700243": //80055 dengan cukai
                                $("#bmvd25").html(res.data[i].total);
                                break;
                            case "700252": //80006 
                                $("#ts7").html(res.data[i].total);
                                break;
                            case "700270": //80042
                                $("#ts5").html(res.data[i].total);
                                break;
                            case "700271": //80035
                                $("#bc5").html(res.data[i].total);
                                break;
                            case "700253": //80007
                                $("#bc7").html(res.data[i].total);
                                break;
                            case "700267": //80038
                                $("#cof5").html(res.data[i].total);
                                break;
                            case "700249": //80003
                                $("#cof7").html(res.data[i].total);
                                break;
                            case "700266": //80039
                                $("#coco5").html(res.data[i].total);
                                break;
                            case "700248": //80002
                                $("#coco7").html(res.data[i].total);
                                break;
                            case "700258": //80013
                                $("#bk7").html(res.data[i].total);
                                break;
                            case "700265": //
                                $("#bn5").html(res.data[i].total)
                                break;
                            case "700247": //80001
                                $("#bn7").html(res.data[i].total);
                                break;
                            case "700256": //80011
                                $("#bs7").html(res.data[i].total);
                                break;
                            case "700257": //80012
                                $("#hz7").html(res.data[i].total);
                                break;
                            case "700255": //80010
                                $("#lc7").html(res.data[i].total);
                                break;
                            case "700269": //
                                $("#ml5").html(res.data[i].total);
                                break;
                            case "700251": //80005
                                $("#ml7").html(res.data[i].total);
                                break;
                            case "700250": //80004
                                $("#pn7").html(res.data[i].total);
                                break;
                            case "700268": //
                                $("#pn5").html(res.data[i].total);
                                break;
                            case "700254": //80008
                                $("#pm7").html(res.data[i].total);
                                break;
                            case "700466": //700450 700499
                                blackbull += res.data[i].total;
                                break;
                        }
                    })
                    $("#omrach700").html(omrach7);
                    $("#omrach250").html(omrach2);
                    $("#BB").html(blackbull);
                }
            }
        }).then(function () {
            setTimeout(update, 30000);
        });
    })();
    (function nonWHFG() {
        $.ajax({
            type: "GET",
            url: "/api/stockile",
            success: function (res) {
                if (res.result == "OK") {
                    let alkohol = 0;
                    let gula = 0;
                    let botolWhiskey700 = 0;
                    let botol9 = 0;
                    let botolSpirit = 0;
                    $.each(res.data, function (i, item) {
                        switch (res.data[i].itemno) {
                            case "50000": case "50001": case "50008": case "50009": case "70178":
                                alkohol += res.data[i].total;
                                break;
                            case "700414": case "50010": case "50005":
                                gula += res.data[i].total;
                                break;
                            case "700326": case "70184":
                                botolWhiskey700 += res.data[i].total;
                                break;
                            case "70021": case "70022":
                                botol9 += res.data[i].total;
                                break;
                            case "700284": case "70180":
                                botolSpirit += res.data[i].total;
                                break;
                            case "700423": //Blackbull
                                $("#botolBB75").html(res.data[i].total);
                                break;
                        }
                        $("#matAlkohol").html(alkohol);
                        $("#gula").html(gula);
                        $("#botolOmrach7").html(botolWhiskey700);
                        $("#botol9_7").html(botol9);
                        $("#spirit700").html(botolSpirit);
                        

                    })
                }
            }
        }).then(function () {
            setTimeout(nonWHFG, 30000);
        });
    })();
</script>
}